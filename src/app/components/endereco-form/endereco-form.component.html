<div class="container">
  <h1> Cadastro de Endereço</h1>
  <form [formGroup]="form" *ngIf="carregado">

    <div>
      <mat-form-field class="example-full-width cep">
        <mat-label>CEP</mat-label>
        <input [imask]="cepMask" [unmask]="true" matInput formControlName="cep" id="cep" maxlength="9"
               placeholder="Ex. 80500-505">
        <mat-hint align="end">{{ tamanhoCep }} / 8</mat-hint>
      </mat-form-field>

      <mat-form-field class="example-full-width logradouro">
        <mat-label>Logradouro</mat-label>
        <input formControlName="logradouro" id="logradouro" matInput placeholder="Ex. Rua Isac Ferreira">
      </mat-form-field>

      <mat-form-field class="example-full-width numero">
        <mat-label>Número</mat-label>
        <input matInput type="number" id="numero" [required]="fieldIsRequired.get('numero')!" formControlName="numero"
               placeholder="Ex. 69">
        @if (form.get('numero')?.invalid) {
          <mat-error>Número ou complemento são obrigatórios</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="example-full-width complemento">
        <mat-label>Complemento</mat-label>
        <input matInput formControlName="complemento" [required]="fieldIsRequired.get('complemento')!" id="complemento"
               placeholder="Ex. Casa">
        @if (form.get('complemento')?.invalid) {
          <mat-error>Número ou complemento são obrigatórios</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="example-full-width bairro">
        <mat-label>Bairro</mat-label>
        <input matInput formControlName="bairro" id="bairro" placeholder="Ex. Boqueirão">
      </mat-form-field>

      <mat-form-field class="example-full-width cidade">
        <mat-label>Cidade</mat-label>
        <input matInput formControlName="cidade" placeholder="Ex. Apto 10A">
      </mat-form-field>

      <mat-form-field class="example-full-width estado">
        <mat-label>Estado</mat-label>
        <input formControlName="estado" id="estado" matInput placeholder="Ex. PR">
      </mat-form-field>

      <mat-form-field class="menssagem-height observacoes">
        <mat-label>Observações</mat-label>
        <textarea rows="5" matInput formControlName="observacao" id="obs" placeholder="Ex. Ao lado da PUCPR"
                  cdkTextareaAutosize> </textarea>
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" [disabled]="!podeSalvar" (click)="salvar()">Concluir</button>
  </form>
</div>
